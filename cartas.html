<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cartas Lecturas del Alma</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/solution.css">
    <style>
    </style>



</head>
<body>
        <section id="header-carta" class="main style2 section" style="padding: 5px">

                <div class="px-4 pt-5 my-5 text-center border-bottom">

                    <header class="major">
                      <!-- <h1 id="pageTitle">Page Title</h1> -->
                      <h3 id="pageNumberElement" class="text-white"></h3>
                      <h1 id="pageTitleElement" class="text-white"></h1>

                      <h1 id="AfirTitleElement" class="text-white"></h1>

                      <!-- <div id="pageTitle">
                        <p>Page Title</p>
                      </div> -->
                    <!-- <h2  class="text-white">Carta No.1</h2> -->
                    </header>


                    


                </div>

                    <div class="col-lg-8 mx-auto">
                          <!-- <p>This is the Description section.</p> -->
                          <p id="pageContentElement" style="font-size:100%; text-align:justify; line-height: 1.2; white-space: text-wrap;"></p>

                          <!-- <p>This is the Meditation section.</p> -->
                          <header class="major">
                            <h2 class="text-white" style="text-align: center;">MEDITACIÓN</h2>
                            </header>
     

                          <p id="pageMedElement" style="font-size:100%; text-align:justify; line-height: 1.2; white-space: text-wrap;"></p>



                    </div>

        </section>

        <section style="padding: 2px">
          <!-- <section id="header-afir" style="padding: 2px"> -->
                    <div style="padding-left: 200px;  padding-right: 200px">
                        <hr>
                        <h2 class="text-center">AFIRMACIÓN</h2>
                        <!-- <h2 class="text-center white-text-with-blue-shadow">AFIRMACIÓN</h2> -->
                        <hr>

                        <p id="pageAfirElement" style="font-size:100%; text-align:justify; line-height: 1.2; white-space: text-wrap;"></p>
                        <!-- <p id="pageAfirElement" class="gray-background text-wrap text-dark-grey"  style="font-size:150%; text-align:center; line-height: 1.2;"></p> -->


                    </div>

        </section>
          <!-- // Music button section -->
        <section id="music_btn" class="main style2" style="padding-top: 15px;  padding-bottom: 5px; ">
          <div style="padding-left: 110px;  padding-right: 110px">
            <p class="text-wrap" style="font-size:90%; text-align:center; margin-bottom: 20px;">Esta melodía fué seleccionada cuidadosamente para complementar la temática de esta carta.<br>Es una herramienta poderosa que te acompañará en tu proceso de reflexión y crecimiento personal. </p>
          
          </div>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center mb-5">
              <button class="btn btn-outline-primary btn-lg" id="ASong" onClick="playPause()">
                <!-- <audio id="audioElement" src="./music/musicarta_40.mp3" loop></audio> -->
                <audio id="pageMusicElement" src="" loop></audio>
                Música On/Off
              </button>
            </div>
            <div><p class="text-wrap" style="font-size:90%; text-align:center; margin-bottom: 20px;">Si puedes escucha esta melodía todo el día. </p></div>
          </section>

          <script>
            function playPause() {
              var audioElement = document.getElementById("audioElement");
              if (audioElement.paused) {
                audioElement.play();
              } else {
                audioElement.pause();
              }
            }
          </script>
          
        <!-- // Images section --> 

    <section class="main style1">
            <div class="overflow-hidden text-center"  style="max-height: 60vh;">

                <div class="container text-center" >
                      <img id="pageImgElement" src= "" class="img-fluid border rounded-3 shadow-lg mb-4" alt="Imagen Carta 1" width="350" height="600" loading="lazy">
                      <!-- <img src= "./images/women_jade2_8x1k.png" class="img-fluid border rounded-3 shadow-lg mb-4" alt="Imagen Carta 1" width="350" height="600" loading="lazy"> -->
                      <img id="pageImgElement_2" src= "" onerror="errorHandler()" class="img-fluid border rounded-3 shadow-lg mb-4" alt="Imagen Carta 1" width="350" height="600" loading="lazy">

                      

                </div>

                </div>
        </section>
        <section>



        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <script>
          var aud = document.getElementById("ASong").children[0];
          var isPlaying = false;
          aud.pause();

          function playPause() {
            if (isPlaying) {
              aud.pause();
            } else {
              aud.play();
            }
            isPlaying = !isPlaying;
          }

          // handle error if no image
          const errorHandler = (error) => {
          pageImgElement_2.src = "./images/Lecturas_del_Alma_mockuo_2.jpg"
          }

        </script>
        </section>

        <script>



          // Retrieve the page title and content from sessionStorage
          var randomNumber = sessionStorage.getItem("randomNumber");
          var cartaNumber = sessionStorage.getItem("cartaNumber");
          var pageTitle = sessionStorage.getItem("pageTitle");
          var pageContent = sessionStorage.getItem("pageContent");
          var pageMed = sessionStorage.getItem("pageMed");
          var contentAfir = sessionStorage.getItem("contentAfir");


          var pageNumberElement = document.getElementById("pageNumberElement");
          var pageTitleElement = document.getElementById("pageTitleElement");
          var pageContentElement = document.getElementById("pageContentElement");
          var pageMedElement = document.getElementById("pageMedElement");
          var pageAfirElement = document.getElementById("pageAfirElement");
          var pageImgElement = document.getElementById("pageImgElement");
          var pageImgElement_2 = document.getElementById("pageImgElement_2");
          var pageMusicElement = document.getElementById("pageMusicElement");


          var imgVarStart = "./images/imagen_carta_";
          var randomVar = randomNumber; 
          randomVar++;
          var imgVarEnd = ".png";

          var musicVarStart = "./music/musicarta_";
          // var randomVar = randomNumber; 
          var musicVarEnd = ".wav";

          // Construct the image and music URL
          var imageToDisplay = imgVarStart + randomVar + imgVarEnd;
          var imageToDisplay_2 = imgVarStart + randomVar  + "_1" + imgVarEnd;
          var musicToPlay = musicVarStart + randomVar + musicVarEnd;



          // Set the text content of the element to the value of the pageTitle variable

          pageNumberElement.innerHTML = cartaNumber;
          pageTitleElement.innerHTML = pageTitle;
          pageContentElement.innerHTML = pageContent;
          pageMedElement.innerHTML = pageMed;
          // pageAfirElement.textContent = contentAfir;

          // Set the HTML content of the pageAfirElement
          pageAfirElement.innerHTML = contentAfir;
          pageImgElement.src = imageToDisplay;
          pageImgElement_2.src = imageToDisplay_2;


          pageMusicElement.src = musicToPlay;


         // Update the HTML elements with the retrieved content
 
        </script>
        
</body>
</html>